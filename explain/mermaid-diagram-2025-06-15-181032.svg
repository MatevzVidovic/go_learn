<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" type="text/css"?>
<svg aria-roledescription="flowchart-v2" role="graphics-document document" style="overflow: hidden; max-width: 100%; touch-action: none; user-select: none;" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="100%" id="graph-1627" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events"><g id="viewport-20250615161029978" class="svg-pan-zoom_viewport" transform="matrix(0.3293941617012024,0,0,0.3293941617012024,85.33631896972656,264.7669677734375)" style="transform: matrix(0.329394, 0, 0, 0.329394, 85.3363, 264.767);"><style>#graph-1627{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#ccc;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#graph-1627 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#graph-1627 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#graph-1627 .error-icon{fill:#a44141;}#graph-1627 .error-text{fill:#ddd;stroke:#ddd;}#graph-1627 .edge-thickness-normal{stroke-width:1px;}#graph-1627 .edge-thickness-thick{stroke-width:3.5px;}#graph-1627 .edge-pattern-solid{stroke-dasharray:0;}#graph-1627 .edge-thickness-invisible{stroke-width:0;fill:none;}#graph-1627 .edge-pattern-dashed{stroke-dasharray:3;}#graph-1627 .edge-pattern-dotted{stroke-dasharray:2;}#graph-1627 .marker{fill:lightgrey;stroke:lightgrey;}#graph-1627 .marker.cross{stroke:lightgrey;}#graph-1627 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#graph-1627 p{margin:0;}#graph-1627 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#ccc;}#graph-1627 .cluster-label text{fill:#F9FFFE;}#graph-1627 .cluster-label span{color:#F9FFFE;}#graph-1627 .cluster-label span p{background-color:transparent;}#graph-1627 .label text,#graph-1627 span{fill:#ccc;color:#ccc;}#graph-1627 .node rect,#graph-1627 .node circle,#graph-1627 .node ellipse,#graph-1627 .node polygon,#graph-1627 .node path{fill:#1f2020;stroke:#ccc;stroke-width:1px;}#graph-1627 .rough-node .label text,#graph-1627 .node .label text,#graph-1627 .image-shape .label,#graph-1627 .icon-shape .label{text-anchor:middle;}#graph-1627 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#graph-1627 .rough-node .label,#graph-1627 .node .label,#graph-1627 .image-shape .label,#graph-1627 .icon-shape .label{text-align:center;}#graph-1627 .node.clickable{cursor:pointer;}#graph-1627 .root .anchor path{fill:lightgrey!important;stroke-width:0;stroke:lightgrey;}#graph-1627 .arrowheadPath{fill:lightgrey;}#graph-1627 .edgePath .path{stroke:lightgrey;stroke-width:2.0px;}#graph-1627 .flowchart-link{stroke:lightgrey;fill:none;}#graph-1627 .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#graph-1627 .edgeLabel p{background-color:hsl(0, 0%, 34.4117647059%);}#graph-1627 .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#graph-1627 .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#graph-1627 .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#graph-1627 .cluster text{fill:#F9FFFE;}#graph-1627 .cluster span{color:#F9FFFE;}#graph-1627 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#graph-1627 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#graph-1627 rect.text{fill:none;stroke-width:0;}#graph-1627 .icon-shape,#graph-1627 .image-shape{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#graph-1627 .icon-shape p,#graph-1627 .image-shape p{background-color:hsl(0, 0%, 34.4117647059%);padding:2px;}#graph-1627 .icon-shape rect,#graph-1627 .image-shape rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#graph-1627 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="graph-1627_flowchart-v2-pointEnd"><path style="stroke-width: 1px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="graph-1627_flowchart-v2-pointStart"><path style="stroke-width: 1px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="graph-1627_flowchart-v2-circleEnd"><circle style="stroke-width: 1px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="graph-1627_flowchart-v2-circleStart"><circle style="stroke-width: 1px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="graph-1627_flowchart-v2-crossEnd"><path style="stroke-width: 2px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="graph-1627_flowchart-v2-crossStart"><path style="stroke-width: 2px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 605.058349609375)" class="root"><g class="clusters"><g data-look="classic" id="subGraph3" class="cluster"><rect height="907.75" width="580.6416702270508" y="8" x="8" style=""></rect><g transform="translate(217.8208351135254, 8)" class="cluster-label"><foreignObject height="24" width="161"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Error Handling Pattern</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A4_B4_0" d="M309.317,99.5L309.317,105.75C309.317,112,309.317,124.5,309.391,136.417C309.466,148.333,309.615,159.667,309.689,165.334L309.764,171"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B4_C4_0" d="M268.029,296.962L252.085,312.093C236.141,327.225,204.254,357.487,188.31,380.202C172.367,402.917,172.367,418.083,172.367,425.667L172.367,433.25"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C4_D4_0" d="M172.367,491.25L172.367,497.5C172.367,503.75,172.367,516.25,172.367,528.083C172.367,539.917,172.367,551.083,172.367,556.667L172.367,562.25"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D4_E4_0" d="M172.367,620.25L172.367,626.5C172.367,632.75,172.367,645.25,172.367,657.083C172.367,668.917,172.367,680.083,172.367,685.667L172.367,691.25"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E4_F4_0" d="M172.367,749.25L172.367,755.5C172.367,761.75,172.367,774.25,172.367,786.083C172.367,797.917,172.367,809.083,172.367,814.667L172.367,820.25"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B4_G4_0" d="M351.605,296.962L367.382,312.093C383.159,327.225,414.713,357.487,430.49,380.202C446.267,402.917,446.267,418.083,446.267,425.667L446.267,433.25"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(172.36666870117188, 387.75)" class="edgeLabel"><g transform="translate(-11.333335876464844, -12)" class="label"><foreignObject height="24" width="22.666671752929688"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(446.2666702270508, 387.75)" class="edgeLabel"><g transform="translate(-9.400001525878906, -12)" class="label"><foreignObject height="24" width="18.800003051757812"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(309.3166694641113, 72.5)" id="flowchart-A4-62" class="node default"><rect height="54" width="181.03334045410156" y="-27" x="-90.51667022705078" style="" class="basic label-container"></rect><g transform="translate(-60.51667022705078, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="121.03334045410156"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Any function call</p></span></div></foreignObject></g></g><g transform="translate(309.3166694641113, 256.375)" id="flowchart-B4-63" class="node default"><polygon transform="translate(-81.875,81.875)" class="label-container" points="81.875,0 163.75,-81.875 81.875,-163.75 0,-81.875"></polygon><g transform="translate(-54.875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="109.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Error occurred?</p></span></div></foreignObject></g></g><g transform="translate(172.36666870117188, 464.25)" id="flowchart-C4-65" class="node default"><rect height="54" width="233.0500030517578" y="-27" x="-116.5250015258789" style="" class="basic label-container"></rect><g transform="translate(-86.5250015258789, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="173.0500030517578"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Wrap error with context</p></span></div></foreignObject></g></g><g transform="translate(172.36666870117188, 593.25)" id="flowchart-D4-67" class="node default"><rect height="54" width="213.51666259765625" y="-27" x="-106.75833129882812" style="" class="basic label-container"></rect><g transform="translate(-76.75833129882812, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="153.51666259765625"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Return error to caller</p></span></div></foreignObject></g></g><g transform="translate(172.36666870117188, 722.25)" id="flowchart-E4-69" class="node default"><rect height="54" width="195.81666564941406" y="-27" x="-97.90833282470703" style="" class="basic label-container"></rect><g transform="translate(-67.90833282470703, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="135.81666564941406"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Caller checks error</p></span></div></foreignObject></g></g><g transform="translate(172.36666870117188, 851.25)" id="flowchart-F4-71" class="node default"><rect height="54" width="258.73333740234375" y="-27" x="-129.36666870117188" style="" class="basic label-container"></rect><g transform="translate(-99.36666870117188, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="198.73333740234375"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Return HTTP error response</p></span></div></foreignObject></g></g><g transform="translate(446.2666702270508, 464.25)" id="flowchart-G4-73" class="node default"><rect height="54" width="214.75" y="-27" x="-107.375" style="" class="basic label-container"></rect><g transform="translate(-77.375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="154.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Continue normal flow</p></span></div></foreignObject></g></g></g></g><g transform="translate(630.6416625976562, 430.433349609375)" class="root"><g class="clusters"><g data-look="classic" id="subGraph2" class="cluster"><rect height="1257" width="365.04998779296875" y="8" x="8" style=""></rect><g transform="translate(90.52499389648438, 8)" class="cluster-label"><foreignObject height="48" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>MQTT Message Handling Flow</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A3_B3_0" d="M190.525,123.5L190.525,129.75C190.525,136,190.525,148.5,190.525,160.333C190.525,172.167,190.525,183.333,190.525,188.917L190.525,194.5"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B3_C3_0" d="M190.525,276.5L190.525,282.75C190.525,289,190.525,301.5,190.525,313.333C190.525,325.167,190.525,336.333,190.525,341.917L190.525,347.5"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C3_D3_0" d="M190.525,405.5L190.525,411.75C190.525,418,190.525,430.5,190.525,442.333C190.525,454.167,190.525,465.333,190.525,470.917L190.525,476.5"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D3_E3_0" d="M190.525,558.5L190.525,564.75C190.525,571,190.525,583.5,190.525,595.333C190.525,607.167,190.525,618.333,190.525,623.917L190.525,629.5"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E3_F3_0" d="M190.525,687.5L190.525,693.75C190.525,700,190.525,712.5,190.525,724.333C190.525,736.167,190.525,747.333,190.525,752.917L190.525,758.5"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F3_G3_0" d="M190.525,816.5L190.525,822.75C190.525,829,190.525,841.5,190.525,853.333C190.525,865.167,190.525,876.333,190.525,881.917L190.525,887.5"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G3_H3_0" d="M190.525,945.5L190.525,951.75C190.525,958,190.525,970.5,190.525,982.333C190.525,994.167,190.525,1005.333,190.525,1010.917L190.525,1016.5"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H3_I3_0" d="M190.525,1074.5L190.525,1080.75C190.525,1087,190.525,1099.5,190.525,1111.333C190.525,1123.167,190.525,1134.333,190.525,1139.917L190.525,1145.5"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(190.52499389648438, 84.5)" id="flowchart-A3-46" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>External system publishes to 'payment/confirmed'</p></span></div></foreignObject></g></g><g transform="translate(190.52499389648438, 237.5)" id="flowchart-B3-47" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>MQTT Broker receives message</p></span></div></foreignObject></g></g><g transform="translate(190.52499389648438, 378.5)" id="flowchart-C3-49" class="node default"><rect height="54" width="248.63333129882812" y="-27" x="-124.31666564941406" style="" class="basic label-container"></rect><g transform="translate(-94.31666564941406, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="188.63333129882812"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Go API subscribed to topic</p></span></div></foreignObject></g></g><g transform="translate(190.52499389648438, 519.5)" id="flowchart-D3-51" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>handlePaymentConfirmed function called</p></span></div></foreignObject></g></g><g transform="translate(190.52499389648438, 660.5)" id="flowchart-E3-53" class="node default"><rect height="54" width="204.11666870117188" y="-27" x="-102.05833435058594" style="" class="basic label-container"></rect><g transform="translate(-72.05833435058594, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="144.11666870117188"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Parse JSON message</p></span></div></foreignObject></g></g><g transform="translate(190.52499389648438, 789.5)" id="flowchart-F3-55" class="node default"><rect height="54" width="177.1666717529297" y="-27" x="-88.58333587646484" style="" class="basic label-container"></rect><g transform="translate(-58.583335876464844, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="117.16667175292969"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Extract order_id</p></span></div></foreignObject></g></g><g transform="translate(190.52499389648438, 918.5)" id="flowchart-G3-57" class="node default"><rect height="54" width="295.0500030517578" y="-27" x="-147.5250015258789" style="" class="basic label-container"></rect><g transform="translate(-117.5250015258789, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="235.0500030517578"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>OrderService.UpdateOrderStatus</p></span></div></foreignObject></g></g><g transform="translate(190.52499389648438, 1047.5)" id="flowchart-H3-59" class="node default"><rect height="54" width="242.73333740234375" y="-27" x="-121.36666870117188" style="" class="basic label-container"></rect><g transform="translate(-91.36666870117188, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="182.73333740234375"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Update order in database</p></span></div></foreignObject></g></g><g transform="translate(190.52499389648438, 1188.5)" id="flowchart-I3-61" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Publish 'order/status_changed' event</p></span></div></foreignObject></g></g></g></g><g transform="translate(1045.691650390625, 0)" class="root"><g class="clusters"><g data-look="classic" id="subGraph1" class="cluster"><rect height="2117.866668701172" width="620.0875015258789" y="8" x="8" style=""></rect><g transform="translate(218.04375076293945, 8)" class="cluster-label"><foreignObject height="48" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Authenticated Request Flow (Create Order)</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A2_B2_0" d="M315.325,123.5L315.325,129.75C315.325,136,315.325,148.5,315.325,160.333C315.325,172.167,315.325,183.333,315.325,188.917L315.325,194.5"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B2_C2_0" d="M315.325,252.5L315.325,258.75C315.325,265,315.325,277.5,315.325,289.333C315.325,301.167,315.325,312.333,315.325,317.917L315.325,323.5"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C2_D2_0" d="M315.325,405.5L315.325,411.75C315.325,418,315.325,430.5,315.4,442.417C315.474,454.333,315.623,465.667,315.698,471.334L315.772,477"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D2_E2_0" d="M276.947,582.989L258.716,597.635C240.486,612.282,204.024,641.574,185.793,663.804C167.563,686.033,167.563,701.2,167.563,708.783L167.563,716.367"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D2_F2_0" d="M354.703,582.989L372.767,597.635C390.831,612.282,426.959,641.574,445.023,663.804C463.088,686.033,463.088,701.2,463.088,708.783L463.088,716.367"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F2_G2_0" d="M463.088,774.367L463.088,780.617C463.088,786.867,463.088,799.367,463.088,811.2C463.088,823.033,463.088,834.2,463.088,839.783L463.088,845.367"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G2_H2_0" d="M463.088,903.367L463.088,909.617C463.088,915.867,463.088,928.367,463.088,940.2C463.088,952.033,463.088,963.2,463.088,968.783L463.088,974.367"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H2_I2_0" d="M463.088,1032.367L463.088,1038.617C463.088,1044.867,463.088,1057.367,463.088,1069.2C463.088,1081.033,463.088,1092.2,463.088,1097.783L463.088,1103.367"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I2_J2_0" d="M463.088,1161.367L463.088,1167.617C463.088,1173.867,463.088,1186.367,463.088,1198.2C463.088,1210.033,463.088,1221.2,463.088,1226.783L463.088,1232.367"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_J2_K2_0" d="M463.088,1290.367L463.088,1296.617C463.088,1302.867,463.088,1315.367,463.088,1327.2C463.088,1339.033,463.088,1350.2,463.088,1355.783L463.088,1361.367"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_K2_L2_0" d="M463.088,1419.367L463.088,1425.617C463.088,1431.867,463.088,1444.367,463.088,1456.2C463.088,1468.033,463.088,1479.2,463.088,1484.783L463.088,1490.367"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L2_M2_0" d="M463.088,1548.367L463.088,1554.617C463.088,1560.867,463.088,1573.367,463.088,1585.2C463.088,1597.033,463.088,1608.2,463.088,1613.783L463.088,1619.367"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_M2_N2_0" d="M463.088,1677.367L463.088,1683.617C463.088,1689.867,463.088,1702.367,463.088,1714.2C463.088,1726.033,463.088,1737.2,463.088,1742.783L463.088,1748.367"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_N2_O2_0" d="M463.088,1806.367L463.088,1812.617C463.088,1818.867,463.088,1831.367,463.088,1843.2C463.088,1855.033,463.088,1866.2,463.088,1871.783L463.088,1877.367"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_O2_P2_0" d="M463.088,1959.367L463.088,1965.617C463.088,1971.867,463.088,1984.367,463.088,1996.2C463.088,2008.033,463.088,2019.2,463.088,2024.783L463.088,2030.367"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(167.5625, 670.8666687011719)" class="edgeLabel"><g transform="translate(-9.400001525878906, -12)" class="label"><foreignObject height="24" width="18.800003051757812"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g transform="translate(463.0875015258789, 670.8666687011719)" class="edgeLabel"><g transform="translate(-11.333335876464844, -12)" class="label"><foreignObject height="24" width="22.666671752929688"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(315.32500076293945, 84.5)" id="flowchart-A2-16" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Client sends POST /api/orders with JWT</p></span></div></foreignObject></g></g><g transform="translate(315.32500076293945, 225.5)" id="flowchart-B2-17" class="node default"><rect height="54" width="136.25" y="-27" x="-68.125" style="" class="basic label-container"></rect><g transform="translate(-38.125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="76.25"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Gin Router</p></span></div></foreignObject></g></g><g transform="translate(315.32500076293945, 366.5)" id="flowchart-C2-19" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Auth Middleware checks JWT token</p></span></div></foreignObject></g></g><g transform="translate(315.32500076293945, 550.9333343505859)" id="flowchart-D2-21" class="node default"><polygon transform="translate(-70.43333435058594,70.43333435058594)" class="label-container" points="70.43333435058594,0 140.86666870117188,-70.43333435058594 70.43333435058594,-140.86666870117188 0,-70.43333435058594"></polygon><g transform="translate(-43.43333435058594, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="86.86666870117188"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Token Valid?</p></span></div></foreignObject></g></g><g transform="translate(167.5625, 747.3666687011719)" id="flowchart-E2-23" class="node default"><rect height="54" width="238.25" y="-27" x="-119.125" style="" class="basic label-container"></rect><g transform="translate(-89.125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="178.25"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Return 401 Unauthorized</p></span></div></foreignObject></g></g><g transform="translate(463.0875015258789, 747.3666687011719)" id="flowchart-F2-25" class="node default"><rect height="54" width="252.8000030517578" y="-27" x="-126.4000015258789" style="" class="basic label-container"></rect><g transform="translate(-96.4000015258789, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="192.8000030517578"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Extract user_id from token</p></span></div></foreignObject></g></g><g transform="translate(463.0875015258789, 876.3666687011719)" id="flowchart-G2-27" class="node default"><rect height="54" width="217.3000030517578" y="-27" x="-108.6500015258789" style="" class="basic label-container"></rect><g transform="translate(-78.6500015258789, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="157.3000030517578"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Set user_id in context</p></span></div></foreignObject></g></g><g transform="translate(463.0875015258789, 1005.3666687011719)" id="flowchart-H2-29" class="node default"><rect height="54" width="249.68333435058594" y="-27" x="-124.84166717529297" style="" class="basic label-container"></rect><g transform="translate(-94.84166717529297, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="189.68333435058594"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>OrderHandler.CreateOrder</p></span></div></foreignObject></g></g><g transform="translate(463.0875015258789, 1134.3666687011719)" id="flowchart-I2-31" class="node default"><rect height="54" width="247.31666564941406" y="-27" x="-123.65833282470703" style="" class="basic label-container"></rect><g transform="translate(-93.65833282470703, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="187.31666564941406"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>OrderService.CreateOrder</p></span></div></foreignObject></g></g><g transform="translate(463.0875015258789, 1263.3666687011719)" id="flowchart-J2-33" class="node default"><rect height="54" width="250.01666259765625" y="-27" x="-125.00833129882812" style="" class="basic label-container"></rect><g transform="translate(-95.00833129882812, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="190.01666259765625"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Start database transaction</p></span></div></foreignObject></g></g><g transform="translate(463.0875015258789, 1392.3666687011719)" id="flowchart-K2-35" class="node default"><rect height="54" width="205.71665954589844" y="-27" x="-102.85832977294922" style="" class="basic label-container"></rect><g transform="translate(-72.85832977294922, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="145.71665954589844"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Check product stock</p></span></div></foreignObject></g></g><g transform="translate(463.0875015258789, 1521.3666687011719)" id="flowchart-L2-37" class="node default"><rect height="54" width="202.88333129882812" y="-27" x="-101.44166564941406" style="" class="basic label-container"></rect><g transform="translate(-71.44166564941406, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="142.88333129882812"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Create order record</p></span></div></foreignObject></g></g><g transform="translate(463.0875015258789, 1650.3666687011719)" id="flowchart-M2-39" class="node default"><rect height="54" width="214.38333129882812" y="-27" x="-107.19166564941406" style="" class="basic label-container"></rect><g transform="translate(-77.19166564941406, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="154.38333129882812"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Update product stock</p></span></div></foreignObject></g></g><g transform="translate(463.0875015258789, 1779.3666687011719)" id="flowchart-N2-41" class="node default"><rect height="54" width="201.21665954589844" y="-27" x="-100.60832977294922" style="" class="basic label-container"></rect><g transform="translate(-70.60832977294922, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="141.21665954589844"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Commit transaction</p></span></div></foreignObject></g></g><g transform="translate(463.0875015258789, 1920.3666687011719)" id="flowchart-O2-43" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Publish 'order/created' MQTT event</p></span></div></foreignObject></g></g><g transform="translate(463.0875015258789, 2061.366668701172)" id="flowchart-P2-45" class="node default"><rect height="54" width="187.8333282470703" y="-27" x="-93.91666412353516" style="" class="basic label-container"></rect><g transform="translate(-63.916664123535156, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="127.83332824707031"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Return order data</p></span></div></foreignObject></g></g></g></g><g transform="translate(1715.7791748046875, 454.433349609375)" class="root"><g class="clusters"><g data-look="classic" id="subGraph0" class="cluster"><rect height="1209" width="330" y="8" x="8" style=""></rect><g transform="translate(92.625, 8)" class="cluster-label"><foreignObject height="24" width="160.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>User Registration Flow</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A1_B1_0" d="M173,123.5L173,129.75C173,136,173,148.5,173,160.333C173,172.167,173,183.333,173,188.917L173,194.5"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B1_C1_0" d="M173,252.5L173,258.75C173,265,173,277.5,173,289.333C173,301.167,173,312.333,173,317.917L173,323.5"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C1_D1_0" d="M173,381.5L173,387.75C173,394,173,406.5,173,418.333C173,430.167,173,441.333,173,446.917L173,452.5"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D1_E1_0" d="M173,510.5L173,516.75C173,523,173,535.5,173,547.333C173,559.167,173,570.333,173,575.917L173,581.5"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E1_F1_0" d="M173,639.5L173,645.75C173,652,173,664.5,173,676.333C173,688.167,173,699.333,173,704.917L173,710.5"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F1_G1_0" d="M173,768.5L173,774.75C173,781,173,793.5,173,805.333C173,817.167,173,828.333,173,833.917L173,839.5"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G1_H1_0" d="M173,897.5L173,903.75C173,910,173,922.5,173,934.333C173,946.167,173,957.333,173,962.917L173,968.5"></path><path marker-end="url(#graph-1627_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H1_I1_0" d="M173,1050.5L173,1056.75C173,1063,173,1075.5,173,1087.333C173,1099.167,173,1110.333,173,1115.917L173,1121.5"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(173, 84.5)" id="flowchart-A1-0" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Client sends POST /api/register</p></span></div></foreignObject></g></g><g transform="translate(173, 225.5)" id="flowchart-B1-1" class="node default"><rect height="54" width="259.28334045410156" y="-27" x="-129.64167022705078" style="" class="basic label-container"></rect><g transform="translate(-99.64167022705078, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="199.28334045410156"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Gin Router receives request</p></span></div></foreignObject></g></g><g transform="translate(173, 354.5)" id="flowchart-C1-3" class="node default"><rect height="54" width="259.23333740234375" y="-27" x="-129.61666870117188" style="" class="basic label-container"></rect><g transform="translate(-99.61666870117188, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="199.23333740234375"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>AuthHandler.Register called</p></span></div></foreignObject></g></g><g transform="translate(173, 483.5)" id="flowchart-D1-5" class="node default"><rect height="54" width="196.25" y="-27" x="-98.125" style="" class="basic label-container"></rect><g transform="translate(-68.125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="136.25"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Validate JSON data</p></span></div></foreignObject></g></g><g transform="translate(173, 612.5)" id="flowchart-E1-7" class="node default"><rect height="54" width="208.64999389648438" y="-27" x="-104.32499694824219" style="" class="basic label-container"></rect><g transform="translate(-74.32499694824219, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="148.64999389648438"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>AuthService.Register</p></span></div></foreignObject></g></g><g transform="translate(173, 741.5)" id="flowchart-F1-9" class="node default"><rect height="54" width="252.21665954589844" y="-27" x="-126.10832977294922" style="" class="basic label-container"></rect><g transform="translate(-96.10832977294922, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="192.21665954589844"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Hash password with bcrypt</p></span></div></foreignObject></g></g><g transform="translate(173, 870.5)" id="flowchart-G1-11" class="node default"><rect height="54" width="216.8333282470703" y="-27" x="-108.41666412353516" style="" class="basic label-container"></rect><g transform="translate(-78.41666412353516, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="156.8333282470703"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Save user to database</p></span></div></foreignObject></g></g><g transform="translate(173, 1011.5)" id="flowchart-H1-13" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Publish 'user/registered' MQTT event</p></span></div></foreignObject></g></g><g transform="translate(173, 1152.5)" id="flowchart-I1-15" class="node default"><rect height="54" width="244.9499969482422" y="-27" x="-122.4749984741211" style="" class="basic label-container"></rect><g transform="translate(-92.4749984741211, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="184.9499969482422"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Return user data to client</p></span></div></foreignObject></g></g></g></g></g></g></g></g></svg>